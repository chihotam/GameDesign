<!DOCTYPE HTML>
<!-- Catelen Wu, Darren Chan, Kyle Tam -->
<html>
	<head>
		<title>Game of Life</title>
		<link rel = "stylesheet" type = "text/css" href = "dressing.css"/>
		<script src = "utility.js"></script> 
		<style>
		</style>
			<script>
				function initialize()
				{
					gameInPlay = true;
					elementaryEvents = ["Do you want to draw, do puzzles, or neither?", "Do you want to present your art, read aloud, or daydream?", "What's your favorite activity to play?", "You have a free period. Do you want to spend it...", "You’re going to your friend’s birthday party tomorrow! Do you want to give them...", "filler3", "filler4", "filler5","filler6","filler7","filler8"];
					elementaryChoices = ["Draw;Puzzles;Neither;", "Present;Read;Daydream;", "Dance;Chess;Tag;", "In your art class, making clay models.;In the library, studying for next period’s test.;In the cafeteria with the rest of your friends.;", "A scarf that you knitted;A copy of one of your favorite books;A video game;", "a;b;c;", "a;b;c;", "a;b;c;", "a;b;c;","a;b;c;","a;b;c;"];
					
				
					highEvents = ["Your best friend wants to hang out. Where do you want to hang out?","The school is having multiple competitions. Which do you want to attend?","The school is having multiple competitions. Which do you want to attend?","Your high school is giving you the chance to host an event. Which of the following do you want to do?","You have a final for chemistry coming up next week, but today is a weekend. What do you want to do?", "You have been recommended by your favorite teacher to have a leadership position. Which do you want to apply for?","filler1e","filler1f","filler1g","filleragain","morefiller","amazingfiller","pleasebeenoughfiller","filler","filler","filler","filler","filler"];
					highChoices = ["To the movies!;To the library!;The internet cafe!;","Singing Competition;Math Competition;Neither;","Drawing Contest;Programming Competition;Track Competition;","Host a dance.;Host a hackathon.;Give the job to someone else.;","Work on your creative writing assignment instead.;Spend your whole day studying for your final.;Go out with your friends to the city.;","Yearbook editor;Captain of the debate team;You’d rather not do any.;","a;b;c;","a;b;c;","a;b;c;","a;b;c;","a;b;c;","a;b;c;","a;b;c;","a;b;c;","a;b;c;","a;b;c;","a;b;c;"];

					collegeEvents = ["What team do you want to join?","You have room for another class on a Wednesday morning. Which class do you want to take?","You’ve heard rumors that a celebrity will be coming to your school. You hope it will be","You have the opportunity to go abroad. What would you like to do, and where would you like to go?","It is a Saturday evening. How do you want to spend the night?","You would like to participate in some extracurriculars. Which of the following seems to interest you most?","filler7","filler8","filler9","filler10"];
					collegeChoices = ["Dance team;Robotics team;Basketball team;","University Writing 101;Intro to Cybersecurity;No class, because you want to sleep in more.;","Your favorite singer;Your favorite game designer;Your favorite athlete;"
,"Volunteer to build a school in Spain with your classmates.;Participate in an internship in Tokyo.;Learn a new language in Paris.;","Attending a concert;Studying for your test;Sitting on the campus with your friends;","Become an editor for your college newspaper.;Become a research assistant in one of the labs.;Create your own club.;","a;b;c;","a;b;c;","a;b;c;","a;b;c;","a;b;c;"];

					moneyEvents = ["Your school is having a career fair, and you are interested in some of the choices. Which will you go through with?","You want to do something outside of school. Do you want to"];
					moneyChoices = ["Get a job at a photography studio.;Get a job at a startup tech company.;Get a job at a local cafe.;","Volunteer at the Museum of Modern Art.;Intern at a hedge fund.;Go to an internet cafe with your friends.;"];
					
					
					workingEvents = ["Your co-worker asks you to take over their shift. Do you...","fillerbwrk","fillercwrk","fillerdwrk","fillerewrk","fillerf","fillerg","fillerh","filleri"];
					workingChoices = ["Agree to work overtime.;Disagree and go home.;Disagree and go out for dinner.;","a;b;c;","a;b;c;","a;b;c;","a;b;c;","a;b;c;","a;b;c;","a;b;c;","a;b;c;"];
					


					intelligenceJobs = ["Doctor","Lawyer","Scientist","Biologist","Dentist","Marine Biologist","Surgeon","Mechanical Engineer","Innovator"];
					creativeJobs = ["Artist","Singer","Dancer","Book Author","Architect","Graphics Designer"];				
					surpriseJobs = ["Real Estate Agent","Restaurant Owner","Chef","Constructor","Firefighter","Teacher","Gymnast"];
					
					numOfTurns = 0;
					timeInterval = 0;
					
					dataArray = location.search.split("=");
					stra = dataArray[1].split("&")[0];
					strb = dataArray[2].split("&")[0];
					characterImage = document.getElementById("charImg");
					charImg.src = "images/" + dataArray[3] + ".png";
					msg = "Hello, " + stra + " " + strb + "!";
					
					collegeDebt = false;
					choosingColleges = false;
					choosingJobs = false;
					
					ELEMENTARY = 0; HIGH = 2; COLLEGE = 3; WORKING = 4; RETIREMENT = 5;
					current_stage = ELEMENTARY;
					
					setTimeout(function()
					{
						text.innerHTML = "Welcome to your life!";
					}, 1000);

								
					<!--   GAME VARIABLES    --> 
					energy = 100;
					health = 100;
					money = 1000;
					age = 5;
					creativity = 0;
					intelligence = 0;
					surprise = 0;
					chosen_college = "";
					chosen_job = "";
					wage = 100;
					choosingRetire = false;
					characterStats = document.getElementById("stats");
					characterAge = document.getElementById("age");
					choiceOne = document.getElementById("one");
					choiceTwo = document.getElementById("two");
					choiceThree = document.getElementById("three");
					
					setTimeout(function()
					{
						getEvent();
						display();
					}, 5500);
					display();
					
				}

				function checkNextStageReady()
				{
					if(current_stage == ELEMENTARY && age >= 12)
					{
						text.innerHTML = "As your early years fly by, you find yourself to already be in high school...";
						characterAge.innerHTML = stra + " " + strb + ", " + "Age: " + age;
						clearChoices();
						setTimeout(function()
						{
							current_stage = HIGH;
							getEvent();
							return true;
						}, 5000);
					}
					else
					{
						if(current_stage == HIGH && age >= 19)
						{	
							text.innerHTML = "With high school behind you, it is time for you to step into your final years of education!";
							current_stage = COLLEGE;
							clearChoices();
							setTimeout(function()
							{
								//text.innerHTML = "Would you like to attend a public college or a private college?";
								choosingColleges = true;
								msg = "Would you like to attend a public or private college?";
						
								choiceA = "Public";
								choiceB = "Private";
								choiceC = "Pick for me!";
								display();
								current_stage = COLLEGE;
								//loans, scholarship, parents   << computer auto chooses
								//public ~ 9k per yr , private ~ 40k per yr
								return true;
							}, 5000);
						
						}	
						else
						{
							if(current_stage == COLLEGE && age >= 25)
							{
								text.innerHTML = "Your education has laid the foundations for your life. ";
								current_stage = WORKING;
								clearChoices();
								setTimeout(function()
								{
								//text.innerHTML = "Would you like to attend a public college or a private college?";
									choosingJobs = true;
									msg = "Which job would you like?";
									if(creativity > intelligence)
									{
										choiceA = creativeJobs.splice(getRandomInteger(0,creativeJobs.length),1);
										choiceB = creativeJobs.splice(getRandomInteger(0,creativeJobs.length),1);
										choiceC = creativeJobs.splice(getRandomInteger(0,creativeJobs.length),1);

									}
									else
									{
										if(intelligence > creativity)
										{
											choiceA = intelligenceJobs.splice(getRandomInteger(0,intelligenceJobs.length),1);
											choiceB = intelligenceJobs.splice(getRandomInteger(0,intelligenceJobs.length),1);
											choiceC = intelligenceJobs.splice(getRandomInteger(0,intelligenceJobs.length),1);
										}
										else
										{
											choiceA = surpriseJobs.splice(getRandomInteger(0,surpriseJobs.length),1);
											choiceB = surpriseJobs.splice(getRandomInteger(0,surpriseJobs.length),1);
											choiceC = surpriseJobs.splice(getRandomInteger(0,surpriseJobs.length),1);
										}
									}	
									display();
									current_stage = WORKING;
							
									return true;
								}, 5000);
							}
							else
							{
								if(current_stage == WORKING && age >= 65)
								{
									text.innerHTML = "As time begins to take its toll on your body, you will now have to make a choice...";
									clearChoices();
									setTimeout(function()
									{
										choosingRetire = true;
										msg = "What would you like to do?";
										choiceA = "Retire";
										choiceB = "Keep working";
										choiceC = "";
										display();
									}, 5000);
									
								}
								else
								{
									getEvent();
									return false;
								}
							}
		
						}
					}

				
					
				}

				function getEvent()
				{
					if(current_stage == ELEMENTARY)
					{
						eventNumber = getRandomInteger(0, elementaryChoices.length - 1);
						msg = elementaryEvents[eventNumber];
						
						choiceA = elementaryChoices[eventNumber].split(";")[0];
						choiceB = elementaryChoices[eventNumber].split(";")[1];
						choiceC = elementaryChoices[eventNumber].split(";")[2];
						
						display();
						
						elementaryEvents.splice(eventNumber, 1);
						elementaryChoices.splice(eventNumber, 1);
						
					}
					if(current_stage == HIGH)
					{
						eventNumber = getRandomInteger(0, highChoices.length - 1);
						msg = highEvents[eventNumber];
						
						choiceA = highChoices[eventNumber].split(";")[0];
						choiceB = highChoices[eventNumber].split(";")[1];
						choiceC = highChoices[eventNumber].split(";")[2];
						
						highEvents.splice(eventNumber, 1);
						highChoices.splice(eventNumber, 1);
					}
					if(current_stage == COLLEGE)
					{
						eventNumber = getRandomInteger(0, collegeChoices.length - 1);
						msg = collegeEvents[eventNumber];
						
						choiceA = collegeChoices[eventNumber].split(";")[0];
						choiceB = collegeChoices[eventNumber].split(";")[1];						
						choiceC = collegeChoices[eventNumber].split(";")[2];	

						collegeEvents.splice(eventNumber, 1);
						collegeChoices.splice(eventNumber, 1);
					
					}
					if(current_stage == WORKING && choosingJobs != true)
					{
					
							eventNumber = getRandomInteger(0, workingChoices.length - 1);
							msg = workingEvents[eventNumber];
						
							choiceA = workingChoices[eventNumber].split(";")[0]; //money up, health down, energy down
							choiceB = workingChoices[eventNumber].split(";")[1]; //no money,health up, energyup						
							choiceC = workingChoices[eventNumber].split(";")[2]; //money down, energy down, health down	

							workingEvents.splice(eventNumber, 1);
							workingChoices.splice(eventNumber, 1);
					}
					if(age >= 100)
					{
						endGame("none");
						break;
					}
					display();
				}
								
				function clearChoices()
				{
					choiceOne.innerHTML = "";
					choiceTwo.innerHTML = "";
					choiceThree.innerHTML = "";
				}
				function choice(option)	
				{
					//elementary, middle, high, college, work, retirement
					if(choosingColleges != true && choosingJobs != true && current_stage != WORKING)
					{
						
						if(option == "one")
						{
							creativity += getRandomInteger(1,10);
						}
						else
						{
							if(option == "two")
							{
								intelligence += getRandomInteger(1,5);
							}
							else
							{
								surprise += getRandomInteger(1,3);
							}
						}

						if(getRandomInteger(0,1) == 1)
							age += getRandomInteger(1,2);
						
						checkNextStageReady();
					}
					if(choosingColleges == true)
					{
						if(option == "one")
							chosen_college = "Public";
						else
						{
							if(option == "two")
								chosen_college = "Private";
							else
							{
								if(getRandomInteger(0,1) == 1)
									chosen_college = "Public";
								else
									chosen_college = "Private";
							}
						}
						choosingColleges = false;
						getEvent();
						
					}
					if(choosingJobs == true)
					{				
						if(option == "one")
						{
							chosen_job = choiceA;
						}
						if(option == "two")
						{
							chosen_job = choiceB;
						}
						if(option == "three")
						{
							chosen_job = choiceC;
						}
						
						choosingJobs = false;
						display();
						clearChoices();
						getEvent();
						
					}
					if(current_stage == WORKING && choosingRetire == false)
					{
						if(option == "one")
						{
							money += getRandomInteger(100,500);
							health -= getRandomInteger(0,5);
							energy -= getRandomInteger(0,5);
						}
						if(option == "two")
						{
							health += getRandomInteger(0,5);
							energy += getRandomInteger(0,5);
						}
							
						if(option == "three")
						{
							money -= getRandomInteger(100,300);
							health -= getRandomInteger(0,5);
							energy -= getRandomInteger(0,5);
						}
						if(getRandomInteger(0,1) == 1)
						{
							age += getRandomInteger(10,15);
						}
						display();
						checkNextStageReady();
					}
					if(current_stage == WORKING && choosingRetire == true)
					{
						if(option == "one")
							endGame("retired");
							
							
						
					}
				}
				function endGame(option)
				{
					if(option == "retired")
					{
						clearchocies();
						msg = "You decided to retire. You lived until " + getRandomInteger(age, 100) + "." + "Technology has changed right before your eyes. You were able to be a witness of many life changing events.";
						
						if(money >= 3000)
						{
							msg += " You ended up wealthy and had many different ";
						}
					}
				}
				
				
				function display()
				{
					text.innerHTML = msg;
					characterStats.innerHTML = "ENERGY: " + "<progress id = 'energy'" + " value= " + energy + " max = 100" + ">" + "</progress>" + "</br>" + "HEALTH: " + "<progress id = 'health'" + " value= " + health + " max = 100" + ">" + "</progress>"  + "</br>" + "MONEY: " + "$ " + money + "</br>" + "JOB: " + chosen_job;							
					characterAge.innerHTML = stra + " " + strb + ", " + "Age: " + age;
					
					choiceOne.innerHTML = choiceA;
					choiceTwo.innerHTML = choiceB;
					choiceThree.innerHTML = choiceC;
				}
				//CREATE NEW HIDDEN FORM, TRANSFER DATA TO NEW PAGE WITH COLLEGE/WORK CHOICES, MAKE IT DYNAMIC
			</script>
	</head>
	<body onload = "initialize();">
		<div id = "text"></div>
		<div id = "age"></div>
		<div id = "imgDiv">
			<img id = "charImg"/> 
		</div> </br>
		<div id = "stats"></div>
		<div id = "textArea"></div>

		<div id = "one" onclick = "choice('one');"></div>
		<div id = "two" onclick = "choice('two');"></div>
		<div id = "three" onclick = "choice('three');"></div>
		
	</body>
</html>
